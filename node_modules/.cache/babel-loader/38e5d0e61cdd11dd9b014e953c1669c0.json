{"ast":null,"code":"import _slicedToArray from \"/Users/luisbenavides/Sites/listview-master-detail-viewdemo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luisbenavides/Sites/listview-master-detail-viewdemo/src/views/charactersView.js\";\nimport React, { useState } from \"react\";\nimport LayoutView from \"./layoutView\";\nimport CharacterView from \"./characterView\";\nimport DetailsCharacterView from \"./detailsCharacterView\";\nimport { ALL_CHARACTERS } from \"../queries\";\nimport { withApollo } from \"@apollo/react-hoc\";\n\nlet loadMore = async props => {\n  console.log(props.after);\n  let data = await props.client.query({\n    query: ALL_CHARACTERS,\n    variables: {\n      after: props.after,\n      length: props.length\n    }\n  });\n  props.setCharacters([...props.characters, data.data.allPeople.edges]);\n  props.setHasNext(data.data.allPeople.pageInfo.hasNextPage);\n  props.setAfter(data.data.allPeople.pageInfo.endCursor);\n};\n\nlet CharactersView = async props => {\n  let _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      character = _useState2[0],\n      setCharacter = _useState2[1];\n\n  let characterView = props.characters.map(obj => {\n    return React.createElement(CharacterView, {\n      key: obj.node.id,\n      node: obj.node,\n      setCharacter: setCharacter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    });\n  });\n  if (props.hasNext) await loadMore(props);\n  return React.createElement(LayoutView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"characters\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, characterView)), React.createElement(\"div\", {\n    className: \"col-md-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, character !== null ? React.createElement(DetailsCharacterView, {\n    character: character,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }) : ''))));\n};\n\nexport default withApollo(CharactersView);","map":{"version":3,"sources":["/Users/luisbenavides/Sites/listview-master-detail-viewdemo/src/views/charactersView.js"],"names":["React","useState","LayoutView","CharacterView","DetailsCharacterView","ALL_CHARACTERS","withApollo","loadMore","props","console","log","after","data","client","query","variables","length","setCharacters","characters","allPeople","edges","setHasNext","pageInfo","hasNextPage","setAfter","endCursor","CharactersView","character","setCharacter","characterView","map","obj","node","id","hasNext"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,SAAQC,cAAR,QAA6B,YAA7B;AACA,SAAQC,UAAR,QAAyB,mBAAzB;;AAEA,IAAIC,QAAQ,GAAG,MAAOC,KAAP,IAAiB;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,KAAlB;AACA,MAAIC,IAAI,GAAG,MAAMJ,KAAK,CAACK,MAAN,CAAaC,KAAb,CAAmB;AAACA,IAAAA,KAAK,EAAET,cAAR;AAAwBU,IAAAA,SAAS,EAAE;AAACJ,MAAAA,KAAK,EAAEH,KAAK,CAACG,KAAd;AAAqBK,MAAAA,MAAM,EAAER,KAAK,CAACQ;AAAnC;AAAnC,GAAnB,CAAjB;AACAR,EAAAA,KAAK,CAACS,aAAN,CAAoB,CAAC,GAAGT,KAAK,CAACU,UAAV,EAAqBN,IAAI,CAACA,IAAL,CAAUO,SAAV,CAAoBC,KAAzC,CAApB;AACAZ,EAAAA,KAAK,CAACa,UAAN,CAAiBT,IAAI,CAACA,IAAL,CAAUO,SAAV,CAAoBG,QAApB,CAA6BC,WAA9C;AACAf,EAAAA,KAAK,CAACgB,QAAN,CAAeZ,IAAI,CAACA,IAAL,CAAUO,SAAV,CAAoBG,QAApB,CAA6BG,SAA5C;AACD,CAND;;AASA,IAAIC,cAAc,GAAG,MAAOlB,KAAP,IAAiB;AAAA,kBACJP,QAAQ,CAAC,IAAD,CADJ;AAAA;AAAA,MAC/B0B,SAD+B;AAAA,MACpBC,YADoB;;AAGpC,MAAIC,aAAa,GAAGrB,KAAK,CAACU,UAAN,CAAiBY,GAAjB,CAAqBC,GAAG,IAAI;AAC9C,WAAO,oBAAC,aAAD;AAAe,MAAA,GAAG,EAAEA,GAAG,CAACC,IAAJ,CAASC,EAA7B;AAAiC,MAAA,IAAI,EAAEF,GAAG,CAACC,IAA3C;AAAiD,MAAA,YAAY,EAAEJ,YAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFmB,CAApB;AAIA,MAAIpB,KAAK,CAAC0B,OAAV,EAAmB,MAAM3B,QAAQ,CAACC,KAAD,CAAd;AAEnB,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGqB,aADH,CADF,CADF,EAME;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,SAAS,KAAK,IAAd,GAAqB,oBAAC,oBAAD;AAAsB,IAAA,SAAS,EAAEA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArB,GAAqE,EADxE,CANF,CADF,CADF,CADF;AAgBD,CAzBD;;AA2BA,eAAerB,UAAU,CAACoB,cAAD,CAAzB","sourcesContent":["import React, {useState} from \"react\";\nimport LayoutView from \"./layoutView\";\nimport CharacterView from \"./characterView\";\nimport DetailsCharacterView from \"./detailsCharacterView\";\nimport {ALL_CHARACTERS} from \"../queries\";\nimport {withApollo} from \"@apollo/react-hoc\";\n\nlet loadMore = async (props) => {\n  console.log(props.after);\n  let data = await props.client.query({query: ALL_CHARACTERS, variables: {after: props.after, length: props.length}});\n  props.setCharacters([...props.characters,data.data.allPeople.edges]);\n  props.setHasNext(data.data.allPeople.pageInfo.hasNextPage);\n  props.setAfter(data.data.allPeople.pageInfo.endCursor);\n};\n\n\nlet CharactersView = async (props) => {\n  let [character, setCharacter] = useState(null);\n\n  let characterView = props.characters.map(obj => {\n    return <CharacterView key={obj.node.id} node={obj.node} setCharacter={setCharacter}/>\n  });\n\n  if (props.hasNext) await loadMore(props);\n\n  return (\n    <LayoutView>\n      <section>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <ul className=\"characters\">\n              {characterView}\n            </ul>\n          </div>\n          <div className=\"col-md-9\">\n            {character !== null ? <DetailsCharacterView character={character}/> : ''}\n          </div>\n        </div>\n      </section>\n    </LayoutView>\n  );\n};\n\nexport default withApollo(CharactersView);"]},"metadata":{},"sourceType":"module"}